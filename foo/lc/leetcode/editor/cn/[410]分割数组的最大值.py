# ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° mï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ m ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ m ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚ 
# 
#  æ³¨æ„: 
# æ•°ç»„é•¿åº¦ n æ»¡è¶³ä»¥ä¸‹æ¡ä»¶: 
# 
#  
#  1 â‰¤ n â‰¤ 1000 
#  1 â‰¤ m â‰¤ min(50, n) 
#  
# 
#  ç¤ºä¾‹: 
# 
#  
# è¾“å…¥:
# nums = [7,2,5,10,8]
# m = 2
# 
# è¾“å‡º:
# 18
# 
# è§£é‡Š:
# ä¸€å…±æœ‰å››ç§æ–¹æ³•å°†numsåˆ†å‰²ä¸º2ä¸ªå­æ•°ç»„ã€‚
# å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º[7,2,5] å’Œ [10,8]ï¼Œ
# å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚
#  
#  Related Topics äºŒåˆ†æŸ¥æ‰¾ åŠ¨æ€è§„åˆ’ 
#  ğŸ‘ 278 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
from typing import List


class Solution:
    def splitArray(self, nums: List[int], m: int) -> int:

        def group(mid):
            """
            :param mid: æ¯ç»„çš„å’Œçš„æœ€å¤§å€¼
            :return:
            """
            sums, cnt = 0, 1
            for i in nums:
                # å‘ç°å½“å‰åˆ†ç»„å’Œè¶…è¿‡mid
                if sums + i > mid:
                    # é‡èµ·ä¸€ç»„ï¼Œè®¡æ•°åŠ ä¸€ï¼Œé‡ç½®å½“å‰å’Œä¸ºå½“å‰æ•°
                    cnt += 1
                    sums = i
                else:
                    sums += i
            return cnt

        # äºŒåˆ†ï¼Œè‹¥åˆ†æˆlenç»„ï¼Œä¸‹ç•Œä¸º æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼›è‹¥åˆ†æˆ1ç»„ï¼Œåˆ™ä¸Šç•Œä¸º å…¨éƒ¨å’Œï¼Œè®°å½•å…¶ä¸ºæœŸå¾…å€¼x
        left, right = max(nums), sum(nums)
        while left < right:
            # è®© x ä¸ºä¸Šä¸‹ç•Œä¸­ä½æ•°
            mid = (left + right) // 2
            sums, cnt = 0, 1
            # group(mid) ä¸º æ•°ç»„å’Œæœ€å¤§å€¼æœ€å°æƒ…å†µ å¯¹åº”çš„ç»„æ•°
            if group(mid) <= m:
                # å‘ç°åˆ†å‡ºæ¥çš„ç»„ å°‘äº† è¯´æ˜xå–å¤§äº†ï¼Œåˆ™è¦å°‘å–ä¸€ç‚¹ï¼Œè®©ä¸Šç•Œå˜ä¸ºmid
                right = mid
            else:
                # å‘ç°åˆ†å‡ºæ¥çš„ç»„ å¤šäº† è¯´æ˜xå–å°äº†ï¼Œåˆ™è¦å¤šå–ä¸€ç‚¹ï¼Œè®©ä¸‹ç•Œå˜ä¸ºmid + 1
                left = mid + 1
        return left

# leetcode submit region end(Prohibit modification and deletion)
